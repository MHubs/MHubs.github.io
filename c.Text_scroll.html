<!--<p>Close this page when you are done with this demo.</p>-->
<!--<table>-->
<!--<tr><td><b>Text:</b></td><td><input type='text' size=24 maxlength=500 value='Hello World!' id='scrolltext'></td></tr>-->
<!--<tr><td><b>Color:</b></td><td><input type='text' size=6 maxlength=6 value='200020' id='color'></td></tr>-->
<!--<tr><td><b>Wait:</b></td><td><input type='text' size=3 maxlength=3 value='50' id='wait'></td></tr>-->
<!--</table>-->
<!--<p></p>-->
<!--<button id='btn' style='height:30px;width:60px'>Submit</button>-->

<p id="Test">Test</p>

<script>
  var count = 0;

  var pixels=[["000000","008000","000000","000000","000000"],
      ["000000","000000","008000","000000","000000"],
      ["000000","802000","802000","802000","000000"],
      ["802000","000000","000000","000000","802000"],
      ["802000","000000","000000","000000","802000"],
      ["802000","000000","000000","000000","802000"],
      ["000000","802000","802000","802000","000000"]];

  var back = false;
  var back2 = false;

  function dropPumpkin() {

              var p = "";
              var brightness = 100;

              if (!back2) {

                  for (r = 0; r < 7; r++) {
                      for (c = 0; c < 5; c++) {

                          if (!back) {

                              if (r >= 6 - count) {
                                  p = p + pixels[r][c];
                              } else {
                                  p = p + "000000"
                              }
                          } else {

                              if (r <= 6 - count) {
                                  p = p + pixels[r][c];
                              } else {
                                  p = p + "000000"
                              }

                          }
                      }
                  }

                  var xhr = new XMLHttpRequest();


                  brightness = 1000 - (1000 / count);

                  document.getElementById("Test").innerHTML = brightness;


                  xhr.open('GET', 'http://192.168.4.1/cc?brightness?=' + brightness + '&pixels=' + p);
                  xhr.send();

                  count++;

                  if (count == 7) {
                      count = 0;
                      back = !back;
                      if (!back) {
                          back2 = true;
                      }
                  }
              } else {

                  for (r = 0; r < 7; r++) {
                      for (c = 0; c < 5; c++) {

                          if (!back) {

                              if (r <= count) {
                                  p = p + pixels[r][c];
                              } else {
                                  p = p + "000000"
                              }
                          } else {

                              if (r >= count) {
                                  p = p + pixels[r][c];
                              } else {
                                  p = p + "000000"
                              }

                          }
                      }
                  }

                  var xhr = new XMLHttpRequest();


                  brightness = 100 - (100 / count);

                  document.getElementById("Test").innerHTML = brightness;

                  xhr.open('GET', 'http://192.168.4.1/cc?brightness?=' + brightness + '&pixels=' + p);

                  xhr.send();

                  count++;

                  if (count == 7) {
                      count = 0;
                      back = !back;
                      if (!back) {
                          back2 = false;
                      }
                  }

              }
  }

  setInterval(dropPumpkin,200);


</script>