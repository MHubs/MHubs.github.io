<html>

<head>

    <script>

//        loadJSON("Mass Shootings.json", function(response) {
//
//            document.getElementById("JSON").innerHTML = response;
//
//        });


        window.webkitRequestFileSystem(Window.TEMPORARY, 1024*1024, SaveDatFileBro);
        window.webkitRequestFileSystem(Window.PERSISTENT , 1024*1024, SaveDatFileBro);

        //GITHUB API

if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', function(eventData) {

        document.getElementById("Orientation").innerHTML = "Orientation: " + eventData.gamma + " " + eventData.beta + " " + eventData.alpha;

    }, false);
}

if (window.DeviceMotionEvent) {
    window.addEventListener('devicemotion', function(eventData) {

        document.getElementById("Acceleration").innerHTML = "Acceleration: " + eventData.acceleration.x + " " + eventData.acceleration.y + " " + eventData.acceleration.x;

    }, false);
}

if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(success);
}

var battery = navigator.battery || navigator.webkitBattery || navigator.mozBattery;

function logBattery(battery) {
    console.log(battery.level);
    console.log(battery.charging);
    console.log(battery.dischargingTime);

    document.getElementById("Battery").innerHTML = 'Level: ' + battery.level + " " + 'Charging: ' + battery.charging + ' Discharging: ' + battery.dischargingTime;

    battery.addEventListener('chargingchange', function() {
        console.log('Battery chargingchange event: ' + battery.charging);
    }, false);
}

if (navigator.getBattery) {
    navigator.getBattery().then(logBattery);
} else if (battery) {
    logBattery(battery);
}

var vibrate = navigator.vibrate || navigator.mozVibrate;

// vibrate for 1 second
vibrate(1000);

// vibrate for 1 second, then pause for half, then vibrate for another 1 second
vibrate([1000, 500, 2000]);

function success(position) {

    document.getElementById("Location").innerHTML = 'Latitude: ' + position.coords.latitude + " " + 'Longitude: ' + position.coords.longitude;


    console.log('Latitude: ' + position.coords.latitude);
    console.log('Longitude: ' + position.coords.longitude);
}

        function loadJSON(file, callback) {

            var xobj = new XMLHttpRequest();
            xobj.overrideMimeType("application/json");
            xobj.open('GET', file, true); // Replace 'my_data' with the path to your file
            xobj.onreadystatechange = function () {
                if (xobj.readyState == 4 && xobj.status == "200") {
                    // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                    callback(xobj.responseText);

                }
            };
            xobj.send(null);
        }

        function SaveDatFileBro(localstorage) {
            localstorage.root.getFile("info.txt", {create: true}, function(DatFile) {
                DatFile.createWriter(function(DatContent) {
                    var blob = new Blob(["Lorem Ipsum"], {type: "text/plain"});
                    DatContent.write(blob);
                });
            });
        }

    </script>


</head>

<p id="Orientation">TESTING</p>
<p id="Acceleration">TESTING</p>
<p id="Location">TESTING</p>
<p id="Battery">TESTING</p>

</html>